universal.listenFor("launch",(()=>{loadThemeListing()})),window.loadThemeListing=async()=>{document.querySelector(".themelist").innerHTML="";for(const e of universal.theming.listing){let n=universal.theming.listingData[e];if(n||(n=await universal.theming.fetchAndParse(e)),n.showing&&"false"===n.showing)continue;const t=document.createElement("div");t.className="theme";const i=document.createElement("h2");i.innerText=n.name,t.appendChild(i);const a=document.createElement("p");a.innerText=n.description;const l=document.createElement("i");l.innerText="Click to apply.",t.onclick=()=>{universal.theming.setTheme(e,!0),loadThemeListing()},universal.load("theme")===e&&(i.innerText+=" (Active)",t.style.background="var(--selected-item-bg)",t.style.backgroundSize="var(--selected-item-bg-size)",t.style.animation="var(--selected-item-bg-anim)",l.innerText=""),t.appendChild(a),t.appendChild(l),document.querySelector(".themelist").appendChild(t)}};