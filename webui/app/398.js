"use strict";(self.webpackChunkfreedeck=self.webpackChunkfreedeck||[]).push([[398],{347:(e,t,n)=>{n.d(t,{VH:()=>a,Ye:()=>o,fw:()=>d,rF:()=>c,s2:()=>s,zQ:()=>l});var i=n(340);class s{name;id;children=[];classes=[];constructor(e,t="",n=[]){this.name=e,this.id=t,this.classes=n}build(){const e=document.createElement("div");e.classList.add("sidebar-item"),e.id=this.id;for(const t of this.classes)e.classList.add(t);if(""!==this.name){const t=document.createElement("h1");t.classList.add("sidebar-section-title"),t.innerHTML=this.name,e.appendChild(t)}for(const t of this.children)e.appendChild(t.build());return e}}class a{name;onClick;id;constructor(e,t,n=""){this.name=e,this.onClick=t,this.id=n}build(){const e=document.createElement("button");return e.classList.add("sidebar-button"),e.innerText=this.name,e.id=this.id,e.onclick=this.onClick,e}}class l{name;label;onSelected;default;id;async setupValues(){}async setupLabels(){}constructor(e,t,n,i="",s=""){this.name=t,this.label=e,this.onSelected=n,this.default=i,this.id=s}build(){const e=document.createElement("div");e.className="es-setting";const t=document.createElement("select");t.id=this.name;const n=document.createElement("label");return n.innerText=this.label,n.htmlFor=this.name,e.appendChild(n),e.appendChild(t),(async()=>{const e=await this.setupValues(),n=await this.setupLabels();for(const i of e){const s=document.createElement("option");s.value=i,s.innerText=n[e.indexOf(i)],i===this.default&&(s.selected=!0),t.appendChild(s)}})(),-1===t.selectedIndex&&(t.selectedIndex=0),t.onchange=e=>{universal.uiSounds.playSound("step_2"),this.onSelected(e)},e}}class d{name;onClick;id;icon;constructor(e,t,n="",i=""){this.name=e,this.onClick=t,this.id=n,this.icon=i}build(){const e=document.createElement("button");e.innerText=this.name,e.id=this.id,e.onclick=this.onClick;const t=document.createElement("object");return t.data=`/common/icons/${this.icon}`,t.classList.add("ico"),e.appendChild(t),e}}class c{name;id;onClick;defaultValue=!1;constructor(e,t,n,i=!1){this.name=e,this.id=t,this.onClick=n,this.defaultValue=i}build(){const e=document.createElement("div");e.classList.add("flex-wrap-r");const t=document.createElement("div");t.classList.add("flex-wrap-r"),t.classList.add("alc"),e.appendChild(t);const n=document.createElement("label");n.htmlFor=this.id;const i=document.createElement("h2");i.innerText=this.name,n.appendChild(i);const s=document.createElement("input");return s.classList.add("fdc-checkbox"),s.id=this.id,s.type="checkbox",s.onchange=this.onClick,s.checked=this.defaultValue,t.appendChild(n),t.appendChild(s),e}}class o{name;id;onClick;postfix;min;max;defaultV;step;constructor(e,t,n,i,s,a,l,d,c=1){this.name=e,this.id=t,this.onClick=l,this.postfix=n,this.min=i,this.max=s,this.defaultV=a,this.onReset=d,this.step=c}build(){const e=document.createElement("div");e.classList.add("flex-wrap-r"),e.classList.add("alc");const t=document.createElement("div");t.classList.add("alc"),e.appendChild(t);const n=document.createElement("label");n.htmlFor=this.id;const s=document.createElement("h2");s.innerText=this.name,n.appendChild(s);const a=document.createElement("input");a.classList.add("fdc-slider"),a.id=this.id,a.type="range",a.setAttribute("postfix",this.postfix),a.min=this.min,a.max=this.max,a.value=this.defaultV,a.step=this.step,a.oninput=this.onClick;const l=document.createElement("button");l.classList.add("reset-button"),l.innerHTML='<img src="/common/icons/reset.svg" alt="Reset" width="25" height="25">',l.id=`${this.id}-reset`,l.onclick=e=>{this.onReset(e),i.UI.reloadSounds()},e.appendChild(l);const d=this.postfix||"",c=document.createElement("div");c.innerText=this.min,c.className="fdc-slider-min";const o=document.createElement("div");o.innerText=this.max,o.className="fdc-slider-max";const r=document.createElement("div");return r.innerText=this.defaultV+d,r.className="fdc-slider-value",a.style.width="7rem",a.addEventListener("input",(e=>{r.innerText=e.target.value+this.postfix})),a.addEventListener("change",(e=>{r.innerText=e.target.value+this.postfix})),t.appendChild(n),t.appendChild(a),t.appendChild(c),t.appendChild(o),t.appendChild(r),e}}},398:(e,t,n)=>{n.r(t);var i=n(347);const s=new i.s2("Soundboard","Soundboard");s.children.push({build:()=>{const e=document.createElement("div");return e.id="np-sb",e}}),universal.listenFor("now-playing",(e=>{const{name:t,channel:n}=e;if(n===universal.audioClient.channels.ui||n===universal.audioClient.channels.monitor)return;const i=document.createElement("div"),s=t.replace(/[^a-zA-Z0-9]/g,"");i.className=`np s-${s}`,i.innerText=t,document.querySelector("#np-sb").appendChild(i)})),s.children.push(new i.VH("Stop All",(e=>{universal.audioClient.stopAll()}))),s.children.push(new i.Ye("Pitch","pitch","%","0.1","2","1",(e=>{universal.audioClient.setPitch(e.target.value)}),(()=>{universal.audioClient.setPitch(1),d("#pitch",1)}),.1)),s.children.push(new i.Ye("Output Volume","v","%","0","100","100",(e=>{universal.audioClient.setVolume(e.target.value/100,universal.audioClient.channels.cable)}),(()=>{universal.audioClient.setVolume(1,universal.audioClient.channels.cable),d("#v",100)}))),s.children.push(new i.Ye("Monitor Volume","mv","%","0","100","100",(e=>{universal.audioClient.setVolume(e.target.value/100,universal.audioClient.channels.monitor)}),(()=>{universal.audioClient.setVolume(1,universal.audioClient.channels.monitor),d("#mv",100)})));const a=[{label:"Stop Previous",value:"stop_prev"},{label:"Play Over",value:"play_over"}],l=new i.zQ("Playback Mode","es-playback",(e=>{universal.save("playback-mode",e.target.value),console.log(`Playback mode set to ${e.target.value}`)}),universal.load("playback-mode"));function d(e,t){document.querySelector(e).value=t,document.querySelector(e).parentElement.querySelector(".fdc-slider-value").innerText=t+(document.querySelector(e).getAttribute("postfix")||"")}l.setupValues=async()=>a.map((e=>e.value)),l.setupLabels=async()=>a.map((e=>e.label)),s.children.push(l),document.querySelector(".sidebar").appendChild(s.build()),universal.listenFor("loadHooks",(()=>{universal.load("pitch")&&d("#pitch",Number.parseInt(universal.load("pitch"))),universal.load("vol-0")&&d("#v",100*universal.load("vol-0")),universal.load("vol-1")&&d("#mv",100*universal.load("vol-1"))}))}}]);